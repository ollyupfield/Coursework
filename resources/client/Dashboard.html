<!DOCTYPE html>
<html lang='en'>

<head>
    <title>Dashboard</title>
</head>

<body>

<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body {
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
    }

    .topnav {
        overflow: hidden;
        background-color: #333;
    }

    .topnav a {
        float: left;
        color: #f2f2f2;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
    }

    .topnav a:hover {
        background-color: #ddd;
        color: black;
    }

    .topnav a.active {
        background-color: #1859b7;
        color: white;
    }
</style>
</head>
<body>

<div class="topnav">
    <a class="active" href="Dashboard.html">Dashboard</a>
    <a href="viewAmps.html">Amps</a>
    <a href="viewGuitars.html">Guitars</a>
    <a href="viewPedals.html">Pedals</a>
    <a style="position: relative; left: 1475px" href="Login.html">Logout</a>
</div>

</body>

<h1 style="font-size:300%;text-align:center;text-decoration-line: underline">Dashboard:</h1>

<BR>

<h1 style="font-size:150%;position: relative;left: 500px;text-decoration-line: underline">Total Item Count:</h1>
<h1 style="font-size:150%;position: relative;left: 1200px;top: -42px;text-decoration-line: underline">Recently Added:</h1>
<h1 style="font-size:150%;position: relative;left: 850px;top: -89px;text-decoration-line: underline">Collection Value:</h1>

<script>

    "use strict";

    function pageLoad1() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("Invoked pageLoad() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url1 = "/amp/total/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url1, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatAmps(response); //this function will create an HTML table of the data
            }
        });
    }
    function pageLoad2() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("Invoked pageLoad() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url2 = "/guitar/total/";
        fetch(url2, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatGuitars(response); //this function will create an HTML table of the data
            }
        });
    }

    function pageLoad3() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("Invoked pageLoad() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url3 = "/pedal/total/";
        fetch(url3, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatPedals(response); //this function will create an HTML table of the data
            }
        });
    }

    function pageLoad4() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("Invoked pageLoad() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url1 = "/amp/latest/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url1, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatAmpsLatest(response); //this function will create an HTML table of the data
            }
        });
    }

    function pageLoad5() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("Invoked pageLoad() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url1 = "/guitar/latest/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url1, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatGuitarsLatest(response); //this function will create an HTML table of the data
            }
        });
    }

    function pageLoad6() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("Invoked pageLoad() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url1 = "/pedal/latest/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url1, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatPedalsLatest(response); //this function will create an HTML table of the data
            }
        });
    }

    function formatAmpsLatest(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + item.Title + "</tr></td>";
        }
        document.getElementById("AmpsLatest").innerHTML += dataHTML;
    }

    function formatGuitarsLatest(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + item.Title + "</tr></td>";
        }
        document.getElementById("GuitarsLatest").innerHTML += dataHTML;
    }

    function formatPedalsLatest(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + item.Title + "</tr></td>";
        }
        document.getElementById("PedalsLatest").innerHTML += dataHTML;
    }

    function formatAmps(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + item.TotalAmps + "</tr></td>";
        }
        document.getElementById("Amps").innerHTML += dataHTML;
    }


    function formatGuitars(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + item.TotalGuitars + "</tr></td>";
        }
        document.getElementById("Guitars").innerHTML += dataHTML;
    }

    function formatPedals(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + item.TotalPedals + "</tr></td>";
        }
        document.getElementById("Pedals").innerHTML += dataHTML;
    }

    function start(){
        pageLoad1();
        pageLoad2();
        pageLoad3();
        pageLoad4();
        pageLoad5();
        pageLoad6();
    }

</script>

</head>

<body>

<body onload="start()">

<table id="Amps"></table>
<table id="AmpsLatest"></table>
<table id="Guitars"></table>
<table id="GuitarsLatest"></table>
<table id="Pedals"></table>
<table id="PedalsLatest"></table>

<h1 style="font-size:150%;position: relative;left: 520px;top: -265px">Amps -</h1>

<h1 style="font-size:150%;position: relative;left: 505px;top: -225px">Guitars -</h1>

<h1 style="font-size:150%;position: relative;left: 515px;top: -180px">Pedals -</h1>

<div class="shape"></div>

<style>
    table {
        font-size: 40px;
        position: relative;
        left: 650px;
        top: 0px;
    }
</style>

<style>
    #AmpsLatest {
        font-size: 25px;
        position: relative;
        left: 1195px;
        top: -50px;
    }
    #GuitarsLatest {
        font-size: 25px;
        position: relative;
        left: 1195px;
        top: -40px;
    }
    #PedalsLatest {
        font-size: 25px;
        position: relative;
        left: 1195px;
        top: -35px;
    }
</style>

</body>

</html>
