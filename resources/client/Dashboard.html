<!DOCTYPE html>
<html lang='en'>

<head>
    <title>Dashboard</title>
</head>

<body>

<style>
    body {
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
    }

    .topnav {
        overflow: hidden;
        background-color: #333;
    }

    .topnav a {
        float: left;
        color: #f2f2f2;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
    }

    .topnav a:hover {
        background-color: #ddd;
        color: black;
    }

    .topnav a.active {
        background-color: #1859b7;
        color: white;
    }
</style>

</head>
<body>

<div class="topnav">
    <a class="active" href="Dashboard.html">Dashboard</a>
    <a href="viewAmps.html">Amps</a>
    <a href="viewGuitars.html">Guitars</a>
    <a href="viewPedals.html">Pedals</a>
    <a style="position: relative; left: 1475px" href="Login.html">Logout</a>
</div>

</body>

<h1 style="font-size:300%;text-align:center;text-decoration-line: underline">Dashboard:</h1>

<BR>

<h1 style="font-size:150%;position: relative;left: 500px;text-decoration-line: underline">Total Item Count:</h1>
<h1 style="font-size:150%;position: relative;left: 1200px;top: -42px;text-decoration-line: underline">Recently Added:</h1>
<h1 style="font-size:150%;position: relative;left: 850px;top: -89px;text-decoration-line: underline">Collection Value:</h1>

<script>

    "use strict";

    function ampsTotal() {
        console.log("ampsTotal() ");

        const url = "/amp/total/";
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();
        }).then(response => {
            if (response.hasOwnProperty("Error")) {
                alert(JSON.stringify(response));
            } else {
                formatAmpsTotal(response);
            }
        });
    }
    function guitarsTotal() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("guitarsTotal() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url = "/guitar/total/";
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatGuitarsTotal(response); //this function will create an HTML table of the data
            }
        });
    }

    function pedalsTotal() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("pedalsTotal() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url = "/pedal/total/";
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatPedalsTotal(response); //this function will create an HTML table of the data
            }
        });
    }

    function ampsLatest() {
        console.log("ampsLatest() ");

        const url = "/amp/latest/";
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();
        }).then(response => {
            if (response.hasOwnProperty("Error")) {
                alert(JSON.stringify(response));
            } else {
                formatAmpsLatest(response);
            }
        });
    }

    function guitarsLatest() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("guitarsLatest() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url = "/guitar/latest/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatGuitarsLatest(response); //this function will create an HTML table of the data
            }
        });
    }

    function pedalsLatest() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("pedalsLatest() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url = "/pedal/latest/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatPedalsLatest(response); //this function will create an HTML table of the data
            }
        });
    }
    function ampsValue() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("ampsValue() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url = "/amp/value/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatAmpsValue(response); //this function will create an HTML table of the data
            }
        });
    }

    function guitarsValue() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("Invoked guitarsValue() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url = "/guitar/value/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatGuitarsValue(response); //this function will create an HTML table of the data
            }
        });
    }

    function pedalsValue() {                                       	// use this method to run code when you page has loaded eg check user is logged in, add data to a table
        console.log("Invoked pedalsValue() ");                         //  your BFF for debugging!!! Don't use alerts as you'll have to remove all of them in final version

        const url = "/pedal/value/";	// API method on webserver will be in Weight class with @Path of list
        fetch(url, {
            method: "GET",
        }).then(response => {
            return response.json();                 //return response to JSON
        }).then(response => {
            if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
            } else {
                formatPedalsValue(response); //this function will create an HTML table of the data
            }
        });
    }

    function formatAmpsValue(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Amps - " + "&pound;" + item.ampsValue + "</tr></td>";
        }
        document.getElementById("Values").innerHTML += dataHTML;
    }

    function formatGuitarsValue(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Guitars - " + "&pound;" + item.guitarsValue + "</tr></td>";
        }
        document.getElementById("Values").innerHTML += dataHTML;
    }

    function formatPedalsValue(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Pedals - " + "&pound;" + item.pedalsValue + "</tr></td>";
        }
        document.getElementById("Values").innerHTML += dataHTML;
    }

    function formatAmpsLatest(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Amps - " + item.Title + "</tr></td>";
        }
        document.getElementById("Latest").innerHTML += dataHTML;
    }

    function formatGuitarsLatest(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Guitars - " + item.Title + "</tr></td>";
        }
        document.getElementById("Latest").innerHTML += dataHTML;
    }

    function formatPedalsLatest(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Pedals - " + item.Title + "</tr></td>";
        }
        document.getElementById("Latest").innerHTML += dataHTML;
    }

    function formatAmpsTotal(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Amps - " + item.TotalAmps + "</tr></td>";
        }
        document.getElementById("Totals").innerHTML += dataHTML;
    }


    function formatGuitarsTotal(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Guitars - " + item.TotalGuitars + "</tr></td>";
        }
        document.getElementById("Totals").innerHTML += dataHTML;
    }

    function formatPedalsTotal(response){

        let dataHTML = ""; //clear the string

        for (let item of response) {
            dataHTML += "<tr><td>" + "Pedals - " + item.TotalPedals + "</tr></td>";
        }
        document.getElementById("Totals").innerHTML += dataHTML;
    }

    function pageLoad(){
        ampsTotal();
        guitarsTotal();
        pedalsTotal();
        ampsLatest();
        guitarsLatest();
        pedalsLatest();
        ampsValue();
        guitarsValue();
        pedalsValue();
    }

</script>

</head>

<body>

<body onload="pageLoad()">

<table id="Totals"></table>
<table id="Latest"></table>
<table id="Values"></table>

<style>
    #Totals {
        font-size: 30px;
        border-collapse: collapse;
        border: 4px solid #1859b7;
        position: relative;
        left: 520px;
    }
    #Values {
        font-size: 30px;
        border-collapse: collapse;
        border: 4px solid #1859b7;
        position: relative;
        top: -230px;
        left: 840px;
    }
    #Latest {
        font-size: 30px;
        border-collapse: collapse;
        border: 4px solid #1859b7;
        position: relative;
        top: -110px;
        left: 1200px;
    }
</style>

</body>

</html>